{% extends "base.html.twig" %}

{#{% block title %}Flashbart - {{ category }}{% endblock %}#}

{% block page_form %}

    {{ form_start(form, {'attr': {'class': 'heading-form'}}) }}
        <div class="form-group float-left mt-3 mr-5 heading-form_show">
            <fieldset>
                <legend>Show</legend>

                <div class="form-check form-check-inline mr-4">
                    {{ form_widget(form.exampleSentence, (flashcards[0].example_sentence is defined
                        ? {'attr': {'class': 'form-check-input', 'checked': 'true'}}
                        : {'attr': {'class': 'form-check-input'}})
                    ) }}
                    {{ form_label(form.exampleSentence, null, {
                        'label_attr': {'class': 'form-check-label'}
                    }) }}
                </div>

                <div class="form-check form-check-inline">
                    {{ form_widget(form.pronunciation, (flashcards[0].pronunciation is defined
                        ? {'attr': {'class': 'form-check-input', 'checked': 'true'}}
                        : {'attr': {'class': 'form-check-input'}})
                    ) }}
                    {{ form_label(form.pronunciation, null, {
                        'label_attr': {'class': 'form-check-label'}
                    }) }}
                </div>
            </fieldset>
        </div>

        <div class="form-group float-left mt-3 mr-5 heading-form_sort">
            {{ form_label(form.sortBy) }}
            {{ form_widget(form.sortBy, {'attr': {'class': 'form-control px-2 py-0'}}) }}
        </div>

        {{ form_widget(form.submit, {'attr': {'class': 'btn'}}) }}
    {{ form_end(form) }}

{% endblock %}


{% block body %}

    <main class="col-md-8 col-lg-9 col-xl-10 ml-sm-auto px-4 content">
        <section class="d-flex justify-content-around flex-wrap align-items-center">

            <!-- START FLASHCARD SECTION -->

            {% if flashcards is not empty %}
                {% for flashcard in flashcards %}
                    <div class="card">
                        <div class="card-header">
                            <a href="#">
                                <span class="fa fa-pencil fa-fw" aria-hidden="true"></span>
                            </a>
                            <a href="{{ path('flashcard_delete', {slug: slug, id: flashcard.id}) }}">
                                <span class="fa fa-trash fa-fw" aria-hidden="true"></span>
                            </a>
                        </div>
                        <div class="card-body">
                            {% if flashcard.id == id %}
                                <h3 class="card-title">
                                    <a class="text-dark" href="{{ path('flashcard_index', {slug: slug}) }}">
                                        {{ flashcard.translation }}
                                    </a>
                                </h3>
                            {% else %}
                                <h3 class="card-title">
                                    <a class="text-dark" href="{{ path('flashcard_show', {slug: slug, id: flashcard.id}) }}">
                                        {{ flashcard.word }}
                                    </a>
                                </h3>
                                {% if flashcard.pronunciation is defined and flashcard.pronunciation is not empty %}
                                    <p class="card-subtitle text-muted">
                                        / {{ flashcard.pronunciation }} /
                                    </p>
                                {% endif %}

                                {% if flashcard.example_sentence is defined and flashcard.example_sentence is not empty %}
                                    <div class="card-group">
                                        <p class="card-text">
                                            {{ flashcard.example_sentence }}
                                        </p>
                                        <small class="card-prompt text-muted">example sentence(s)</small>
                                    </div>
                                {% endif %}
                            {% endif %}
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <p>No flashcards for this category. <a href="#">Add some flashcards!</a></p>
            {% endif %}

            <!-- END FLASHCARD SECTION -->

        </section>
    </main>

{% endblock %}

